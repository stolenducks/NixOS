{
  "$schema": "https://raw.githubusercontent.com/code-yeongyu/oh-my-opencode/master/assets/oh-my-opencode.schema.json",
  "project": {
    "name": "NixOS Configuration",
    "type": "system-config",
    "description": "Flake-based NixOS system configuration for ThinkPad X1 Carbon"
  },
  "context": {
    "primary_files": [
      "AGENT.md",
      "flake.nix",
      "configuration.nix",
      "home.nix"
    ],
    "ignore_patterns": [
      "flake.lock",
      ".git/**",
      "result"
    ]
  },
  "agents": {
    "oracle": {
      "instructions": "Expert on NixOS, Nix language, flakes, and home-manager. Understands declarative system configuration patterns."
    },
    "explore": {
      "instructions": "Search for NixOS module patterns, option definitions, and configuration examples in this repo."
    },
    "librarian": {
      "instructions": "Look up NixOS options, nixpkgs packages, and home-manager options from official documentation."
    }
  },
  "workflows": {
    "rebuild": {
      "description": "Rebuild the NixOS system",
      "command": "nh os switch",
      "cwd": "~/NixOS"
    },
    "check": {
      "description": "Check flake for errors without building",
      "command": "nix flake check",
      "cwd": "~/NixOS"
    },
    "build-test": {
      "description": "Build system config without switching",
      "command": "nix build .#nixosConfigurations.nixos.config.system.build.toplevel",
      "cwd": "~/NixOS"
    }
  },
  "conventions": {
    "language": "nix",
    "style": {
      "indentation": 2,
      "module_pattern": "Tony Banters style with mkEnableOption/mkIf"
    },
    "file_organization": {
      "system_config": "configuration.nix",
      "user_config": "home.nix",
      "reusable_modules": "modules/*.nix",
      "flake_inputs": "flake.nix"
    }
  }
}
